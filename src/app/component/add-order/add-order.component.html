<div class="collapse" id="collapseExample">
  <div class="accordion mt-4" id="accordionExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingOne">
        <button class="accordion-button bg-dark brick-red rounded-top" aria-expanded="false" aria-controls="collapseOne">
          Bestellingsformulier <a data-bs-toggle="offcanvas" href="#bestellingsinformatie" role="button" aria-controls="offcanvasExample">
          <mat-icon title="info" aria-hidden="false" class="ms-2 text-white pointer-hover" aria-label="info" fontIcon="info"></mat-icon>
        </a>
        </button>
      </h2>
      <div id="collapseOne" class="accordion-collapse collapse show">
        <form id="addForm" #addOrderForm="ngForm" class="needs-validation" novalidate>
          <div class="accordion-body">
            <div class="row">
              <div class="col-12 col-md-6 col-xxl-4">
                <div class="form-floating mb-3">
                  <input [(ngModel)]="orderer" #ordererInput="ngModel" name="orderer" type="text" [class.is-invalid]="ordererInput.invalid" [class.is-valid]="ordererInput.valid" class="form-control" id="ordererInput" placeholder="John Doe" required>
                  <label for="ordererInput">Besteller <span class="brick-red">*</span></label>
                </div>
                <div class="form-floating mb-3">
                  <input [(ngModel)]="driver" #driverInput="ngModel" [class.is-invalid]="driverInput.invalid" [class.is-valid]="driverInput.valid" name="driver" type="text" class="form-control" id="driverInput" placeholder="Jane Doe" required>
                  <label for="driverInput">Bestuurder <span class="brick-red">*</span></label>
                </div>
                <div class="form-floating mb-3">
                  <input [(ngModel)]="supplier" #supplierInput="ngModel" [class.is-invalid]="supplierInput.invalid" [class.is-valid]="supplierInput.valid" name="supplier" type="text" class="form-control" id="supplierInput" placeholder="Jane Doe" required>
                  <label for="supplierInput">Leverancier <span class="brick-red">*</span></label>
                </div>
                <div class="form-floating mb-3">
                  <input [(ngModel)]="carBrand" #carBrandInput="ngModel" [class.is-invalid]="carBrandInput.invalid" [class.is-valid]="carBrandInput.valid" name="carbrand" type="text" class="form-control" id="carInput" placeholder="Jane Doe" required>
                  <label for="driverInput">Automerk <span class="brick-red">*</span></label>
                </div>
              </div>
              <div class="col-12 col-md-6 col-xxl-4">
                <div class="input-group mb-3">
                  <div class="form-floating">
                    <input
                      class="form-control"
                      placeholder="dd-mm-yyyy"
                      id="orderDateInput"
                      name="dpOrder"
                      [(ngModel)]="dateOfOrder"
                      #dateOfOrderInput="ngModel"
                      [class.is-invalid]="dateOfOrderInput.invalid"
                      [class.is-valid]="dateOfOrderInput.valid"
                      ngbDatepicker
                      #dpOrder="ngbDatepicker"
                      required
                    />
                    <label for="orderDateInput">Datum van bestelling <span class="brick-red">*</span></label>
                  </div>
                  <button class="btn btn-outline-secondary {{ dateOfOrderInput.valid ? 'border-secondary' : 'border-danger'}} align-items-center display-flex" (click)="dpOrder.toggle()" type="button">
                    <mat-icon title="Open kalender" class="pointer-hover brick-red" aria-label="calendar_month" fontIcon="calendar_month"></mat-icon>
                  </button>
                </div>
                <div class="input-group mb-3">
                  <div class="form-floating">
                    <input
                      class="form-control"
                      placeholder="dd-mm-yyyy"
                      id="orderDeliveryInput"
                      name="dpDelivery"
                      [(ngModel)]="dateOfDelivery"
                      #dateOfDeliveryInput="ngModel"
                      [class.is-valid]="dateOfDeliveryInput.valid && dateOfDeliveryInput.dirty"
                      [class.is-invalid]="dateOfDeliveryInput.invalid"
                      ngbDatepicker
                      #dpDelivery="ngbDatepicker"
                    />
                    <label for="orderDeliveryInput">Datum van levering</label>
                  </div>
                  <button class="btn btn-outline-secondary {{ dateOfDeliveryInput.valid ? 'border-secondary' : 'border-danger' }} align-items-center display-flex" (click)="dpDelivery.toggle()" type="button">
                    <mat-icon title="Open kalender" class="pointer-hover brick-red calender-hover" aria-label="calendar_month" fontIcon="calendar_month"></mat-icon>
                  </button>
                </div>
                <div class="form-floating mb-3">
                  <input [(ngModel)]="expectedWeek" #expectedWeekInput="ngModel" [class.is-valid]="expectedWeekInput.valid && expectedWeekInput.dirty" [class.is-invalid]="expectedWeekInput.invalid" name="expected-week" type="number" id="expectedWeekInput" class="form-control" placeholder="verwachte week" min="0" max="52"/>
                  <label class="form-label" for="expectedWeekInput">Verwachte week van levering</label>
                </div>
                <div class="form-floating mb-3">
                  <select [(ngModel)]="status" #statusInput="ngModel" [class.is-valid]="statusInput.valid" [class.is-invalid]="statusInput.invalid" name="status" class="form-select" id="statusSelect" aria-label="Status selecteren" required>
                    <option value="" disabled>Selecteer status...</option>
                    <option value="ORDERED">Besteld</option>
                    <option value="PROCESSED">Verwerkt</option>
                    <option value="DELAYED">Vertraagd</option>
                    <option value="SHIPPED">Onderweg</option>
                    <option value="DELIVERED">Geleverd</option>
                    <option value="CANCELED">Geannuleerd</option>
                    <option value="UKNOWN">Onbekend</option>
                  </select>
                  <label for="statusSelect">De status van de bestelling <span class="brick-red">*</span></label>
                </div>
              </div>
              <div class="col-12 col-xxl-4">
                <div class="input-group mb-3 label-hover">
                  <label class="input-group-text w-50" for="leasePlanInput">Upload leaseplan</label>
                  <input [(ngModel)]="leaseplanPath" #leaseplanPathInput="ngModel" [class.is-valid]="leaseplanPathInput.valid && leaseplanPathInput.dirty" [class.is-invalid]="leaseplanPathInput.invalid" name="lease-plan-path" type="file" class="form-control custom-button" id="leasePlanInput" placeholder="Leaseplan">
                </div>
                <div class="input-group mb-3 label-hover">
                  <label class="input-group-text w-50" for="quotationInput">Upload factuur</label>
                  <input [(ngModel)]="quotationPath" #quotationPathInput="ngModel" [class.is-valid]="quotationPathInput.valid && quotationPathInput.dirty" [class.is-invalid]="quotationPathInput.invalid" name="quotation-path" type="file" class="form-control custom-button" id="quotationInput" placeholder="factuur">
                </div>
              </div>
            </div>
            <button [disabled]="addOrderForm.form.invalid" type="submit" id="add-order-button" aria-expanded="false" aria-controls="collapseExample" (click)="this.create();" class="btn btn-light border-dark align-items-center display-flex text-nowrap mt-5 mx-auto mx-md-0" title="Klik hier om een nieuwe bestelling toe te voegen">
              <mat-icon aria-hidden="false" class="me-2 plus-color pointer-hover" aria-label="add_box" fontIcon="add_box"></mat-icon>Nieuwe bestelling toevoegen
            </button>
            <div id="add-loading-spinner" class="spinner-border text-danger display-none" role="status">
              <span class="sr-only"></span>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="offcanvas offcanvas-start" tabindex="-1" id="bestellingsinformatie" aria-labelledby="Bestellingsformulier informatie">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasExampleLabel"><b>Informatie bestellingsformulier</b><hr>  </h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div>
      <b>De velden met een asterisk (<span class="brick-red">*</span>) zijn verplicht. Deze velden mogen niet leeg zijn.</b>
    </div>
  </div>
</div>
